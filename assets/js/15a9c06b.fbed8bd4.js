"use strict";(self.webpackChunkmodulecheck=self.webpackChunkmodulecheck||[]).push([[2610],{65404:(e,n,d)=>{d.d(n,{R:()=>r,x:()=>a});var t=d(36672);const i={},s=t.createContext(i);function r(e){const n=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),t.createElement(s.Provider,{value:n},e.children)}},96911:(e,n,d)=>{d.r(n),d.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>p,frontMatter:()=>r,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"rules/redundant_dependency","title":"Redundant Dependency","description":"This rule creates a brittle dependency graph, because some necessary dependencies are only provided","source":"@site/versioned_docs/version-0.12.1/rules/redundant_dependency.md","sourceDirName":"rules","slug":"/rules/redundant_dependency","permalink":"/ModuleCheck/docs/0.12.1/rules/redundant_dependency","draft":false,"unlisted":false,"editUrl":"https://github.com/rbusarow/ModuleCheck/blob/main/website/versioned_docs/version-0.12.1/rules/redundant_dependency.md","tags":[],"version":"0.12.1","frontMatter":{"id":"redundant_dependency","slug":"/rules/redundant_dependency","title":"Redundant Dependency","sidebar_label":"Redundant Dependency"},"sidebar":"Docs","previous":{"title":"Inherited Dependency","permalink":"/ModuleCheck/docs/0.12.1/rules/inherited_dependency"},"next":{"title":"Overshot Dependency","permalink":"/ModuleCheck/docs/0.12.1/rules/overshot_dependency"}}');var i=d(23420),s=d(65404);const r={id:"redundant_dependency",slug:"/rules/redundant_dependency",title:"Redundant Dependency",sidebar_label:"Redundant Dependency"},a=void 0,l={},c=[];function o(e){const n={a:"a",admonition:"admonition",code:"code",mermaid:"mermaid",p:"p",strong:"strong",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.admonition,{type:"caution",children:[(0,i.jsx)(n.p,{children:"This rule creates a brittle dependency graph, because some necessary dependencies are only provided\ntransitively by other dependencies. Any manual changes to dependencies can have unexpected\nconsequences downstream."}),(0,i.jsxs)(n.p,{children:["This rule is ",(0,i.jsx)(n.strong,{children:"not recommended"})," and disabled by default, but it's still available for those who\nwant to keep their build files as small as possible."]})]}),"\n",(0,i.jsxs)(n.p,{children:["Finds project dependencies which are declared as ",(0,i.jsx)(n.code,{children:"api"})," in other dependency projects, but also\ndeclared in the current project. These dependencies can be removed without actually breaking the\nbuild, since they're still provided by an upstream dependency through the ",(0,i.jsx)(n.code,{children:"api"})," configuration."]}),"\n",(0,i.jsx)(n.mermaid,{value:"flowchart LR\n\n  linkStyle default stroke-width:2px,fill:none,stroke:green;\n\n  classDef depth2 fill:#BBF,stroke:#000,color:#000\n  classDef depth1 fill:#B9B,stroke:#000,color:#000\n  classDef depth0 fill:#FBB,stroke:#000,color:#000\n\n  subgraph sg_redundant [A redundant graph]\n    direction TB\n\n    lib1_redundant(:lib-1):::depth0\n    lib2_redundant(:lib-2):::depth1\n    app_redundant(:app):::depth2\n\n    app_redundant --\x3e |api| lib1_redundant\n    app_redundant --\x3e |api| lib2_redundant\n\n    lib2_redundant --\x3e |api| lib1_redundant\n  end\n\n  subgraph sg_minimalist [A graph with no redundancy]\n    direction TB\n\n    lib1_minimalist(:lib-1):::depth0\n    lib2_minimalist(:lib-2):::depth1\n    app_minimalist(:app):::depth2\n\n    app_minimalist --\x3e |api| lib2_minimalist\n\n    lib2_minimalist --\x3e |api| lib1_minimalist\n  end\n\n  style sg_redundant fill:#C66,stroke:#000,color:#FFF\n  style sg_minimalist fill:#696,stroke:#000,color:#FFF\n\n  sg_redundant --\x3e |./gradlew moduleCheck| sg_minimalist\n"}),"\n",(0,i.jsxs)(n.p,{children:["This is the opposite of the ",(0,i.jsx)(n.a,{href:"/ModuleCheck/docs/0.12.1/rules/inherited_dependency",children:"inherited dependency"})," rule, which ensures a stable graph by explicitly\ndeclaring each dependency. ",(0,i.jsx)(n.a,{href:"/ModuleCheck/docs/0.12.1/rules/inherited_dependency",children:"Inherited dependency"})," is enabled by default, and is the recommended\napproach. Both rules may not be enabled at the same time."]})]})}function p(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}}}]);